<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Appel API Equidia</title>
</head>
<body>
    <script>
        // Fonction pour effectuer la requête HTTP GET
        function callEquidiaAPI() {
            var xhr = new XMLHttpRequest();
            xhr.open('GET', 'https://api.equidia.fr/api/public/racing/directs/live2/hls?urlOnly=true', true);
            xhr.setRequestHeader('Accept', 'application/json, text/plain, */*');
            xhr.setRequestHeader('Content-Type', 'application/json');
            xhr.setRequestHeader('Referer', 'https://www.equidia.fr/');
            xhr.onreadystatechange = function() {
                if (xhr.readyState === 4 && xhr.status === 200) {
                    var response = JSON.parse(xhr.responseText);
                    processResponse(response);
                }
            };
            xhr.send();
        }

        // Fonction pour traiter la réponse
        function processResponse(response) {
            // Code pour intégrer la réponse dans le HTML
            const parameterEquidia = {
                idDivContainer: 'liveContainer',
                UrlStreamInfo: response.url, // Supposant que la réponse contient un objet avec une propriété 'url'
                titleVideo: "live2",
            };

            hexaplayerNamespace.initPlayerLive(parameterEquidia);
        }

        // Appeler la fonction lorsque la page est chargée
        window.onload = function() {
            callEquidiaAPI();
        };
    </script>
    <div id="liveContainer">
        <video></video>
    </div>
    <!-- Assurez-vous que le script pour le lecteur vidéo est inclus ici -->
    <script src="cdn-player.hexaglobe.net/equidia/main/hexa-player-latest.js"></script>
</body>
</html>
